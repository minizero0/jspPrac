<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
</style>
<title>Insert title here</title>
<script type="text/javascript" src = "https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script type="text/javascript">
	$(function () {
		$.ajax({
			url:"ListPublisher",
			success:function(arr){
				var option = $("<option></option>").html("출판사 선택");
				$("#list_publisher").append(option);
				
				$.each(arr,function(){
					var option = $("<option></option>").html(this)
					$("#list_publisher").append(option);	
				})
			}
			
		})
		$("#list_publisher").change(function () {
			var publisher = $(this).val()
			console.log(publisher)
			$.ajax({
				url:"ListBook",
				data:{publisher:publisher},
				success:function(data){
					$("#list").empty();
					$.each(data, function(){
						var tr = $("<tr></tr>");
						var td1 = $("<td></td>").html(this.bookid);
						var td2 = $("<td></td>").html(this.bookname);
						var td3 = $("<td></td>").html(this.publisher);
						var td4 = $("<td></td>").html(this.price);
						$(tr).append(td1,td2,td3,td4);
						$("#list").append(tr);						
					})
				}
			})
		})
	});
	
</script>
</head>
<body>
	<select id = "list_publisher"></select>
	<table border = "1" width = "80%">
		<thead>
			<tr>
				<th>도서번호</th>
				<th>도서명</th>
				<th>출판사</th>
				<th>가격</th>
			</tr>
		</thead>
		<tbody id = "list">
		</tbody>
	</table>
	
	<table border = "1" width = "80%">
		<thead>
			<tr>
				<th></th>
			</tr>
		</thead>
	</table>
	
	<hr>
	<br>
	<br>
	<br>
	<br>
	<br>
	<table border = "1" width = "80%">
		<tr><td>이름</td><td>국어</td><td>영어</td><td>수학</td></tr>
		<tr><td>이순신</td><td>100</td><td>60</td><td>70</td></tr>
		<tr><td>유관순</td><td>80</td><td>70</td><td>100</td></tr>
		<tr><td>김유신</td><td>60</td><td>90</td><td>20</td></tr>
	</table>

</body>
</html>